## Webot.py - скрипт для рекурсивного обхода сайта

Это начало одного из моих проектов, который следит за сайтами. 

Этот проект получает информацию о сайте, например, его адрес, и проверяет все страницы сайта. Он сохраняет информацию о сайте в специальную таблицу. А ещё он записывает информацию о том, какие страницы он проверил.

Код проекта находится в папке src. Там же есть два файла, которые помогают настроить работу проекта. Чтобы проект работал, нужен доступ к серверу MySQL. Для каждого сайта проект создаёт отдельную базу данных.

Создаваемые таблицы имеют следующую схему.
```
mysql > describe log;
+--------+------+------+-----+---------+----------------+
| Field  | Type | Null | Key | Default | Extra          |
+--------+------+------+-----+---------+----------------+
| id     | int  | NO   | PRI | NULL    | auto_increment |
| url    | text | NO   |     | NULL    |                |
| status | text | YES  |     | NULL    |                |
+--------+------+------+-----+---------+----------------+
```
Таблица `log`

```
mysql > describe pages;
+-----------+----------+------+-----+---------+-------+
| Field     | Type     | Null | Key | Default | Extra |
+-----------+----------+------+-----+---------+-------+
| id        | int      | NO   | PRI | NULL    |       |
| url       | text     | NO   |     | NULL    |       |
| level     | int      | NO   |     | NULL    |       |
| parent_id | int      | NO   |     | NULL    |       |
| code      | longtext | NO   |     | NULL    |       |
+-----------+----------+------+-----+---------+-------+
```
Таблица `pages`

Поля `id` и `parent_id` используются для сохранения иерархии переходов между страницами: `parent_id` - это айдишник страницы с которой мы попали на текущую страницу. В поле `code` последней таблицы в этом примере я сохранял hash html-кода страницы.

Чтобы продемонстрировать работоспособность скрипта я помести в папку `results` выгрузку содержимого таблицы `pages`, полученной в процесс обхода 3-х разных сайтов.

1. [Маленький персональный сайт веб-дизайнера](./results/anatkalinsi_com.log)
2. [Блог одного из разработчиков современного С++ - foonathan::blog()](./results/foonathan_net.log)
3. [Сайт образовательной платформы Skillbox (частично)](./results/skillbox_com.log)

На этом сайте больше 10 000 страниц, поэтому я взял только первую тысячу. Этого хватит, чтобы показать, как работает скрипт.

Этот скрипт может обойти только сайты, у которых есть статические ссылки в html-коде. Если на сайте есть переходы между страницами с помощью java script, этот скрипт не поможет.
